javascript:(function(){const STORAGE_KEY='crm_bookmarklet_config';const defaults={'h':'/home','d':'/crm/dashboard','l':'/crm/leads','o':'/crm/opportunities','q':'/crm/quotes','r':'/crm/reports','t':'/help-desk/ticket-list','i':'/help-desk/inbox','k':'/task-manager/tasks','u':'/users','s':'/settings'};let shortcuts=JSON.parse(localStorage.getItem(STORAGE_KEY))||defaults;if(document.getElementById('crm-helper-gui'))return;const style=document.createElement('style');style.innerHTML='#crm-helper-gui{position:fixed;bottom:20px;right:20px;width:300px;background:#1e1e2d;color:#fff;font-family:sans-serif;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.5);z-index:100000;font-size:13px;transition:height 0.3s;border:1px solid #402c84}#crm-header{padding:10px 15px;background:#402c84;border-radius:8px 8px 0 0;display:flex;justify-content:space-between;align-items:center;cursor:pointer;user-select:none}#crm-status{font-weight:bold;font-size:12px;color:#00ff88;margin-right:10px}#crm-body{padding:10px;max-height:400px;overflow-y:auto;display:block}.crm-minimized #crm-body{display:none}.crm-row{display:flex;gap:5px;margin-bottom:8px;align-items:center}.crm-key{width:30px;background:#2b2b40;border:1px solid #555;color:#fff;text-align:center;padding:4px;border-radius:4px}.crm-path{flex-grow:1;background:#2b2b40;border:1px solid #555;color:#ccc;padding:4px;border-radius:4px}.crm-btn{cursor:pointer;padding:4px 8px;border-radius:4px;border:none}.crm-del{background:#ff4757;color:white}.crm-add{background:#2ecc71;color:white;width:100%;margin-top:5px;font-weight:bold}.crm-save-msg{text-align:center;color:#aaa;margin-top:5px;font-size:10px}#crm-body::-webkit-scrollbar{width:6px}#crm-body::-webkit-scrollbar-thumb{background:#555;border-radius:3px}';document.head.appendChild(style);const gui=document.createElement('div');gui.id='crm-helper-gui';gui.innerHTML='<div id="crm-header"><span>üöÄ CRM Runner <span id="crm-status">‚óè Running</span></span><span id="crm-toggle">_</span></div><div id="crm-body"><div id="crm-list"></div><button class="crm-btn crm-add" id="crm-add-btn">+ Add Shortcut</button><div class="crm-save-msg">Changes save automatically</div></div>';document.body.appendChild(gui);const listContainer=document.getElementById('crm-list');function renderList(){listContainer.innerHTML='';Object.entries(shortcuts).forEach(([key,path])=>{const row=document.createElement('div');row.className='crm-row';row.innerHTML=`<input class="crm-key" value="${key}" maxlength="1"><input class="crm-path" value="${path}"><button class="crm-btn crm-del">√ó</button>`;const keyInput=row.querySelector('.crm-key');const pathInput=row.querySelector('.crm-path');const delBtn=row.querySelector('.crm-del');keyInput.addEventListener('input',(e)=>{const newKey=e.target.value.toLowerCase();if(newKey&&newKey!==key){delete shortcuts[key];shortcuts[newKey]=pathInput.value;saveConfig()}});pathInput.addEventListener('input',(e)=>{shortcuts[keyInput.value]=e.target.value;saveConfig()});delBtn.addEventListener('click',()=>{delete shortcuts[keyInput.value];saveConfig();renderList()});listContainer.appendChild(row)})}const header=document.getElementById('crm-header');header.addEventListener('click',()=>{gui.classList.toggle('crm-minimized');const toggleBtn=document.getElementById('crm-toggle');toggleBtn.innerText=gui.classList.contains('crm-minimized')?'‚ñ°':'_'});document.getElementById('crm-add-btn').addEventListener('click',()=>{shortcuts['?']='/new-path';renderList()});function saveConfig(){localStorage.setItem(STORAGE_KEY,JSON.stringify(shortcuts))}document.addEventListener('keydown',function(e){if(e.target.tagName==='INPUT'||e.target.tagName==='TEXTAREA')return;if(e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){const key=e.key.toLowerCase();if(shortcuts[key]){e.preventDefault();navigate(shortcuts[key])}}});function navigate(path){const status=document.getElementById('crm-status');status.innerText='‚óè Navigating...';status.style.color='#ffff00';const targetLink=document.querySelector(`a[href="${path}"]`);if(targetLink){targetLink.click()}else{window.location.href=window.location.origin+path}setTimeout(()=>{status.innerText='‚óè Running';status.style.color='#00ff88'},1000)}renderList()})();
