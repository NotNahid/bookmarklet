javascript:(function(){async function d(u,n,b){try{b.innerHTML='â³';const r=await fetch(u);const bl=await r.blob();const bu=window.URL.createObjectURL(bl);const a=document.createElement('a');a.href=bu;a.download=n;document.body.appendChild(a);a.click();document.body.removeChild(a);b.innerHTML='âœ”';setTimeout(()=>b.innerHTML=b.dataset.o,2000)}catch(e){console.error(e);b.innerHTML='âŒ';setTimeout(()=>{b.innerHTML='â†—';b.onclick=ev=>{ev.stopPropagation();window.open(u,'_blank')}},1000)}}function c(i,t){const b=document.createElement('button');b.className='ig-dl-btn';b.innerHTML=i;b.dataset.o=i;b.title='Download';b.style="position:absolute;top:10px;right:10px;z-index:999999;background:white;color:black;border:none;width:35px;height:35px;border-radius:50%;font-weight:bold;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.3);font-size:16px;display:flex;align-items:center;justify-content:center;transition:transform 0.2s;opacity:0.9;";b.onmouseover=()=>b.style.transform="scale(1.1)";b.onmouseout=()=>b.style.transform="scale(1)";if(t==='v'){b.style.background='#e1306c';b.style.color='white'}return b}function a(e,b){const p=e.parentNode;if(getComputedStyle(p).position==='static')p.style.position='relative';p.appendChild(b)}Array.from(document.querySelectorAll('img')).filter(i=>i.width>200&&i.height>200).forEach(i=>{if(i.parentNode.querySelector('.ig-dl-btn'))return;let s=i.src;if(i.srcset){const z=i.srcset.split(',');const l=z[z.length-1].trim().split(' ')[0];if(l)s=l}const b=c('â¬‡','i');b.onclick=e=>{e.preventDefault();e.stopPropagation();d(s,%60insta_img_${Date.now()}.jpg%60,b)};a(i,b)});Array.from(document.querySelectorAll('video')).forEach(v=>{const p=v.parentNode;if(p.querySelector('.ig-dl-btn'))return;const b=c('ðŸŽ¥','v');b.onclick=e=>{e.preventDefault();e.stopPropagation();let u=v.src;if(!u||u.startsWith('blob:')){const rs=performance.getEntriesByType("resource");const m=rs.filter(r=>r.name.includes('.mp4')||r.name.includes('video')||r.name.includes('cdninstagram')).filter(r=>!r.name.includes('.jpg'));if(m.length>0)u=m[m.length-1].name;else{alert("Play video for 3 seconds first to load the file!");return}}d(u,%60insta_vid_${Date.now()}.mp4%60,b)};a(v,b)})})();
